

{% extends "layouts/alayout.html" %}
{% load static %}


{% block title %}Manage User{% endblock %}
{% block link %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.6.1/css/buttons.dataTables.min.css">
{% endblock %}

{% block css %}

<style>
  
</style>

{% endblock %}

{% block admin %}
<h1 class="text-center text-3xl font-semibold">Welcome User Management </h1>
{% if users %}
<div class="container-fluid min-h-screen my-2 overflow-auto hide-scrollbar" style="overflow:auto">
  
  <table class="table table-bordered table-responsive " id="example">
    <thead>
      <tr class="table-dark text-center">
        <th>user id</th>
        <th>Usernames</th>
        <th>Name</th>
        <th>Mobile</th>
        <th>Email</th>
        <th>User type</th>
        <th>Status</th>
        <th>Staff</th>
        <th>Action</th>
      </tr>
    <tbody class="">
      {% for user in users %}
      <tr class="text-center">
        <td>{{ user.id }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.first_name  }} {{user.last_name}}</td>
        <td>{{ user.mobile }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.user_type }}</td>
        <td>
          
          {% if  user.is_verified%}
          
        <div
          class="relative grid select-none items-center whitespace-nowrap rounded-lg bg-green-500 py-1.5 px-3 font-sans text-xs font-bold uppercase text-white">
          <span class="">Verified</span>
        </div>
          {% else %}<div
          class="relative grid select-none items-center whitespace-nowrap rounded-lg bg-red-500 py-1.5 px-3 font-sans text-xs font-bold uppercase text-white">
          <span class="">Un Verified</span>
        </div>
        {% endif %}
        </td>
        <td>
          
          
          {% if  user.is_staff%}
          <div
          class="relative grid select-none items-center whitespace-nowrap rounded-lg bg-green-500 py-1.5 px-3 font-sans text-xs font-bold uppercase text-white">
          <span class="">Verified</span>
        </div>
          {% else %}<div
          class="relative grid select-none items-center whitespace-nowrap rounded-lg bg-red-500 py-1.5 px-3 font-sans text-xs font-bold uppercase text-white">
          <span class="">Un Verified</span>
        </div>
        {% endif %}
        </td>
        <td>
          {% comment %} <a href="{% url "edit_user" user.id %}"><i class="fa-solid fa-pen-to-square mx-2 text-xl"></i></a> | {% endcomment %}
          <a href="{% url "delete_user" user.id %}"><i class="fa-solid fa-trash text-xl mx-2" style="color: #ab0303;"></i></a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
    </thead>
  </table>
</div>
{% endif %}
{% endblock %}

{% block js %}
<script type="text/javascript">



  $(document).ready(function () {

      $('#example').DataTable({
          dom: 'Bfrtip',
          buttons: [
              'copy', 'csv', 'excel', 'pdf', 'print', 'pageLength'
          ],
          lengthMenu: [
              [10, 25, 50, 100, -1],
              ['10', '25', '50', '100', 'all']
          ]
      });


  });

</script>

<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.flash.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.html5.min.js"></script>
<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.print.min.js"></script>
<!--datatable-->

{% endblock %}
